<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>MySpotiti</title>
  <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet" />
  <link rel="stylesheet" href="styleMain.css" />
  <script src="scriptPimpinan.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body onload="getCurrentDate()">
  <div id="whole-page-notuser">
    <div class="sidebar-notuser">
      <img src="/assets/images/MySpotitiLogoWithext.png" id="sidebar-logo" alt="" />
      <div id="sidebar-text">


        <div class="sidebar-text" id="Pimpinan-sidebar-overview"
          style="color: #F5833F; font-weight: bold;transform: scale(1.1)">Overview</div>
        <div class="sidebar-text" id="Pimpinan-sidebar-sales">Sales</div>
        <div class="sidebar-text" id="Pimpinan-sidebar-subgenre">Statistics</div>

        <div class="sidebar-subtext" id="Pimpinan-sidebar-songs">Songs</div>
        <div class="sidebar-subtext" id="Pimpinan-sidebar-genre">Genre</div>
        <div class="sidebar-subtext" id="Pimpinan-sidebar-subgenre">Sub Genre</div>
        <div class="sidebar-subtext" id="Pimpinan-sidebar-user">User</div>


      </div>
    </div>
    <div class="header-notuser">

      <button id="profile-btn" class="round-button-notuser">
        <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 448 512">
          <path
            d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z" />
        </svg>
      </button>
    </div>

    <div class="pimpinan-main-content">
      <div id="pimpinan-main-content-atas">
        <h1> Monthly Overview</h1>
        <h1 id="currentDate"></h1>
      </div>

      <div class="adminBox" id="pimpinan-main-content-sales">
        <div class="headline">Monthly Sales </div>
        <div class="pimpinan-main-content-sales-chart">
          <canvas class="chart" id="salesBarChart"></canvas>
          <canvas class="chart" id="salesLineChart"></canvas>
        </div>

      </div>

      <div class="adminBox" id="pimpinan-main-content-topsongs" style="overflow-y: scroll;">
        <div class="headline">Statistics</div>
        <div class="subheadline">Top Songs</div>
        <% for(const row of topSongs) { %>
          <div class="topSongsContainer">
            <img src="data:image/jpeg;base64,<%= row.cover.toString('base64') %>" alt="">
            <div class="textOnlistPimpinan">
              <h3 id="judulTopSongs">
                <%= row.judul %>
              </h3>
              <h3 id="artistTopSongs">
                <%= row.artis %>
              </h3>
            </div>
          </div>
          <% } %>
      </div>


      <div class="adminBox" id="pimpinan-main-content-topgenre">
        <div class="headline">Statistics</div>
        <div class="subheadline">Top Genre</div>
        <% for(const row of topGenre) { %>
          <div class="topSongsContainer">
            <img src="data:image/jpeg;base64,<%= row.cover.toString('base64') %>" alt="">
            <h3 id="judulTopGenre">
              <%= row.nama %>
            </h3>
          </div>
          <% } %>
      </div>

      <div class="adminBox" id="pimpinan-main-content-user">
        <div class="headline">User Analytics</div>
      </div>
    </div>
  </div>

  <!--buat logout-->
  <div id="logOutPopup" class="hidden">
    <div id="photo-profile-container">
      <% if(image) { %>
        <img id="photo-profile" src="data:image/jpeg;base64,<%= image.toString('base64') %>" />
        <% } %>
    </div>
    <h1>Hi there, <%= name %>
    </h1>


    <form action="/logout" method="post">
      <input id="logOutButton" class="button" type="submit" value="Log out" />
    </form>

  </div>
</body>

</html>